{% macro render_flash_messages() %}
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <ul class="flashes">
        {% for category, message in messages %}
          <li class="{{ category }}"><p>{% if category != "neutral" %}{{ category.capitalize()+": " }}{% endif %}{{ message }}</p><div class="close"><div class="icon-container"><i class="close-icon fa fa-times" onclick="var f = document.getElementsByClassName('flashes')[0]; f.classList.add('fade-out')"></i></div></div></li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}
{% endmacro %}

{% macro render_field(field, disabled = false) %}
  <div class="form-elt {% if field.errors %}error{% endif %}">
    {% if field.type == "TextAreaField" %}
      <h6>{{ field.label }}</h6>
      {{ field(placeholder = field.description, maxlength = field.max, disabled = disabled) }}
      <p class="count" id="{{ field.name }}">Characters left: 500</p>
    {% else %}
      {{ field(placeholder = field.description, disabled = disabled) }}
    {% endif %}
    {% if field.errors %}
      <p class="error-msg">{{ field.errors[0] }}</p>
    {% endif %}
  </div>
{% endmacro %}

<!DOCTYPE html>

<html>
  <head>
    <!--[if IE]>
      <link rel="shortcut icon" href="/static/favicon.ico">
    <![endif]-->
    <title>hackBCA III - Staff Panel</title>
    <link rel="icon" href="/static/favicon.png">
    
    {% block header %}{% endblock %}
  </head>
  <body>
    {{ render_flash_messages() }}
    {% block content %}{% endblock %}
  </body>
  {% block scripts %}{% endblock %}
</html>