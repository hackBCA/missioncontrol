!function(e){var n,t,a,o,c,i=function(e,n,t,a){var o=document.createElement("span");o.className="sender",o.innerText=n+": ";var c=document.createElement("span");c.className="message",c.innerText=t;var i=a.split(" "),s=document.createElement("span");s.className="datestamp",s.innerText=i[0];var r=document.createElement("span");r.className="timestamp",r.innerText=i[1]+" "+i[2];var l=document.createElement("div");return l.id=e,l.appendChild(o),l.appendChild(c),l.appendChild(s),l.appendChild(r),l},s=function(e){if(!document.getElementById(e.id)){var n=i(e.id,e.sender_name,e.message,e.timestamp);t.appendChild(n),t.scrollTop=t.scrollHeight}},r=function(){n.on("connect",function(){n.emit("fetch_all_broadcasts",function(e){for(var n=0;n<e.length;n++)s(e[n])}),n.on("receive_message",function(e){c.play(),s(e)})})},l=function(){o.onclick=function(){e.broadcast()}},d=function(e){var e=e.trim();e.length<1?console.log("Error: Message is empty."):n.emit("send_message",e,function(e){console.log(e)})};e.broadcast=function(){var e=a.value.trim();e.length<1?console.log("Error: Message is empty."):d(e),a.value=""},e.broadcastWithMessage=function(e){d(e)},e.toggleAudio=function(e){},e.init=function(e,i,s,d,m){n=io.connect(e),t=document.querySelector(i),a=document.querySelector(d),o=document.querySelector(m),c=new Audio(s),o&&l(),r()}}(this.BroadcastClient={});